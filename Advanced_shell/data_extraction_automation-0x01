#!/bin/bash

# Ensure the JSON file exists
if [ ! -f data.json ]; then
  echo "Error: JSON file 'data.json' not found. Please run the previous script to fetch the data."
  exit 1
fi

# Extract values from the JSON file using jq
name=$(jq -r '.name' data.json)               # Pokémon's name
height=$(jq -r '.height' data.json)           # Pokémon's height (decimeters)
weight=$(jq -r '.weight' data.json)           # Pokémon's weight (hectograms)
type=$(jq -r '.types[0].type.name' data.json) # Pokémon's primary type

# Convert height and weight to human-readable format
formatted_height=$(awk "BEGIN {printf \"%.1f\", $height / 10}")  # Convert to meters
formatted_weight=$(awk "BEGIN {printf \"%.0f\", $weight / 10}")  # Convert to kilograms

# Format the output exactly as expected
output="$name is of type $type, weighs ${formatted_weight}kg, and is ${formatted_height}m tall."

# Output the formatted result
echo "$output"

# Save the output to a file
echo "$output" > pokemon_summary.txt
