#!/bin/bash

# Ensure the JSON file exists
if [ ! -f data.json ]; then
  echo "Error: JSON file 'data.json' not found. Please run the previous script to fetch the data."
  exit 1
fi

# Use `jq` to extract the Pokémon's name, height, weight, and type
name=$(jq -r '.name' data.json)               # Extract the Pokémon's name
height=$(jq -r '.height' data.json)           # Extract the Pokémon's height
weight=$(jq -r '.weight' data.json)           # Extract the Pokémon's weight
type=$(jq -r '.types[0].type.name' data.json) # Extract the first type of the Pokémon

# Convert height and weight to human-readable format
formatted_height=$(awk "BEGIN {printf \"%.1f\", $height / 10}")  # Convert height to meters
formatted_weight=$(awk "BEGIN {printf \"%.0f\", $weight / 10}") # Convert weight to kilograms

# Format the output to match the required human-readable format
output="${name^} is of type ${type^}, weighs ${formatted_weight}kg, and is ${formatted_height}m tall."

# Display and save the output
echo "$output"
echo "$output" > pokemon_summary.txt
